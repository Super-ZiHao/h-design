"use strict";(self.webpackChunkHDesign=self.webpackChunkHDesign||[]).push([[433],{85186:function(Q,T,t){t.r(T);var L=t(92282),p=t(50959),y=t(11527),c=function(){var j=(0,p.useRef)(null),a=(0,p.useRef)(null),C=(0,L.aB)(function(D){var R=D.contentRect,E=R.width,O=R.height;console.log("\u6211\u662F\u7B2C\u4E00\u4E2A\u76D2\u5B50",E,O)},j),H=(0,L.aB)(function(D){var R=D.contentRect,E=R.width,O=R.height;console.log("\u6211\u662F\u7B2C\u4E8C\u4E2A\u76D2\u5B50",E,O)},a);return(0,y.jsxs)("div",{className:"flex gap-4",children:[(0,y.jsx)("div",{className:"flex items-center justify-center rounded-xl border h-48 w-48 resize overflow-hidden bg-slate-500",ref:j,children:(0,y.jsx)("button",{className:"border rounded-lg px-2 py-1 hover:bg-slate-400 active:bg-slate-300 transition-all",type:"button",onClick:C,children:"\u5173\u95EDresize\u4E8B\u4EF6"})}),(0,y.jsx)("div",{className:"flex items-center justify-center rounded-xl border h-48 w-48 resize overflow-hidden bg-slate-700",ref:a,children:(0,y.jsx)("button",{className:"border rounded-lg px-2 py-1 hover:bg-slate-600 active:bg-slate-500 transition-all",type:"button",onClick:H,children:"\u5173\u95EDresize\u4E8B\u4EF6"})})]})};T.default=c},92282:function(Q,T,t){t.d(T,{yF:function(){return D},YE:function(){return X},Ch:function(){return re},aB:function(){return ie}});var L=t(82092),p=t.n(L),y=t(26068),c=t.n(y),Y=t(48305),j=t.n(Y),a=t(50959),C=t(11527),H=function(e){var s=e.ratio,d=s===void 0?1:s,v=e.children,r=e.parentClassName,S=r===void 0?"":r,P=e.parentStyle,o=e.className,z=o===void 0?"":o,l=e.style,x=(0,a.useRef)(null),f=(0,a.useState)("width"),i=j()(f,2),m=i[0],h=i[1];return(0,a.useEffect)(function(){if(x.current){var g=function(I){I.forEach(function(N){var M,W,k=N.contentRect,A=k.width,F=k.height,U=(M=(W=N.target.firstChild).getBoundingClientRect)===null||M===void 0?void 0:M.call(W),n=U.width,w=U.height;h(function(){return d===1?A>F?"height":"width":A/F>n/w?"height":"width"})})},b=new ResizeObserver(g);return b.observe(x.current),function(){return b.disconnect()}}},[d]),(0,C.jsx)("div",{className:"auto-ratio-container ".concat(S),style:P,ref:x,children:(0,C.jsx)("div",{className:"auto-ratio-box ".concat(z),style:c()(c()({},l!=null?l:{}),{},p()({aspectRatio:"".concat(d)},m,"100%")),children:v})})},D=H,R=t(32699),E=t.n(R),O=t(10422),V=function(e){var s=e.className,d=s===void 0?"":s,v=e.style,r=e.target,S=e.direction,P=S===void 0?"vertical":S,o=e.itemOptions,z=e.placement,l=z===void 0?"right":z,x=e.alignment,f=x===void 0?"end":x,i=e.offset,m=e.zIndex,h=e.children,g=(0,a.useState)(document.body),b=j()(g,2),u=b[0],I=b[1];(0,a.useEffect)(function(){if(!E().isNil(r)){if(r!=null&&r.current)return I(r==null?void 0:r.current);I(r)}},[r]);var N=(0,a.useMemo)(function(){return p()({},E().isNil(m)?"":"--sidebar-zIndex",m)},[m]),M=(0,a.useMemo)(function(){var n={};switch(l){case"right":n.alignItems="end";case"left":{switch(n.height="100%",n.width="0px",n.flexDirection="column",f){case"start":n.justifyContent="start";break;case"center":n.justifyContent="center";break;case"end":n.justifyContent="end";break}break}case"bottom":n.alignItems="end";case"top":switch(n.width="100%",n.height="0px",f){case"start":n.justifyContent="start";break;case"center":n.justifyContent="center";break;case"end":n.justifyContent="end";break}}return n[l]=0,n},[l,f]),W=(0,a.useMemo)(function(){return c()(c()(c()({},N),M),v)},[N,M,v]),k=o!=null?o:{},A=k.gap,F=(0,a.useMemo)(function(){return p()({},E().isNil(A)?"":"--sidebar-item-gap","".concat(A,"px"))},[A]),U=(0,a.useMemo)(function(){if(!i)return{};var n=i.top,w=i.left,G=i.bottom,J=i.right;return{transform:"translate(".concat(w!=null?w:J?-J:0,"px, ").concat(n!=null?n:G?-G:0,"px)")}},[i]);return(0,O.createPortal)((0,C.jsx)("div",{className:"sidebar ".concat(d),style:W,children:(0,C.jsx)("div",{className:"sidebar-".concat(P),style:c()(c()({},F),U),children:h})}),u)},X=V,Z=t(67825),q=t.n(Z),_=t(82187),ee=t.n(_),te=["loadingClassName","className","src","style"],se=function(){},ne=function(e){var s=e.loadingClassName,d=s===void 0?"":s,v=e.className,r=e.src,S=e.style,P=q()(e,te),o=(0,a.useRef)(null),z=(0,a.useState)(!0),l=j()(z,2),x=l[0],f=l[1],i=(0,a.useRef)(document.createElement("img"));return(0,a.useEffect)(function(){if(o.current){var m=function(u){u.forEach(function(I){var N=I.target;f(!0),N.complete&&f(!1)})},h=new MutationObserver(m);h.observe(i.current,{attributes:!0,attributeFilter:["src"]});var g=function(){var u;(u=o.current)===null||u===void 0||u.setAttribute("src",i.current.getAttribute("src")),setTimeout(function(){f(!1)},200)};return i.current.addEventListener("load",g),i.current.addEventListener("error",g),function(){h.disconnect(),i.current.removeEventListener("load",g),i.current.removeEventListener("error",g)}}},[]),(0,a.useEffect)(function(){if(!(!o.current||r===void 0)){var m=function(b){b.forEach(function(u){u.isIntersecting&&i.current.setAttribute("src",r)})},h=new IntersectionObserver(m,{root:document,threshold:[0]});return h.observe(o.current),function(){return h.disconnect()}}},[r]),(0,C.jsx)("img",c()({className:ee()(v,"simple-img",p()({},d,x)),style:c()({objectFit:"cover",imageRendering:"pixelated"},S),draggable:!1,ref:o},P))},re=ne,K=new WeakMap,B;function ae($,e){var s;return(0,a.useEffect)(function(){s=e.current?e.current:e,s&&(B||(B=new ResizeObserver(function(d){d.forEach(function(v){var r;(r=K.get(v.target))===null||r===void 0||r(v,B)})})),K.set(s,$),B.observe(s))},[]),function(){s&&(K.delete(s),B.unobserve(s))}}var ie=ae}}]);
